{% extends 'base_page.html' %}

{%load static%}
{% block head %}
<style>

form {
	max-width: 40vw;
	display: flex;
	flex-direction: column;
}

form label {
	font-family: "Open Sans", sans-serif;
	font-size: 1.2rem;
	margin-bottom: 12px;
}

form input {
	height: 40px;
	padding: 5px;
	font-size: 1rem;
}

form input:focus {
	outline: none;
}

</style>
{% endblock head %}

{% block opacitynav %}
opacity:0.9;
{% endblock opacitynav %}

{% block colornav %} 
    bg-warning
{% endblock colornav %} 



{% block body %}

<div class='selector_list '>
    <br>
    <div class="row no-gutters mb-3">
        <div class='col-2 d-none d-md-block'></div>
            <div class='col auto'>
                <h3 class='ml-3'>Поиск услуги 'Стрижка женская'</h3><br>
                <div class="card mb-10 shadow p-3 bg-white border border-light" style="border-radius: 25px;">
                    <div class='row ml-1 mr-1'>
                        <div class='col-4'>
                            <form>
                                <input class='border rounded text-center' list="magicHouses" id="myHouse" name="myHouse" placeholder="Город" />
                                <datalist id="magicHouses">
                                    <option value="Gryfindor">
                                    <option value="Hufflepuff">
                                    <option value="Slytherin">
                                    <option value="Ravenclaw">
                                    <option value="Horned Serpent">
                                    <option value="Thunderbird">
                                    <option value="Pukwudgie">
                                    <option value="Wampus">
                                </datalist>
                            </form>
                        </div>
                        <div class='col-4'>
                            <form>
                                <input class='border rounded text-center' list="magicHouses" id="myHouse" name="myHouse" placeholder="Услуга" />
                                <datalist id="magicHouses">
                                    <option value="Gryfindor">
                                    <option value="Hufflepuff">
                                    <option value="Slytherin">
                                    <option value="Ravenclaw">
                                    <option value="Horned Serpent">
                                    <option value="Thunderbird">
                                    <option value="Pukwudgie">
                                    <option value="Wampus">
                                </datalist>
                            </form>
                        </div>
                        <div class='col-4'>
                            <form>
                                <input class='border rounded text-center' list="magicHouses" id="myHouse" name="myHouse" placeholder="Салон" />
                                <datalist id="magicHouses">
                                    <option value="Gryfindor">
                                    <option value="Hufflepuff">
                                    <option value="Slytherin">
                                    <option value="Ravenclaw">
                                    <option value="Horned Serpent">
                                    <option value="Thunderbird">
                                    <option value="Pukwudgie">
                                    <option value="Wampus">
                                </datalist>
                            </form>
                        </div>
                    </div>
                    <div class='row ml-1 mr-1 mt-3'>
                        <div class='col-sm-12 col-md-4 mb-2'>
                            <div class="input-group ">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Цена от ₽">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Цена до ₽">
                            </div>
                        </div>
                        <div class='col-sm-12 col-md-4 mb-2'>
                            <div class="input-group ">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Время от ₽">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Время до ₽">
                            </div>
                        </div>
                        <div class='col-sm-12 col-md-4'>
                            <div class="input-group ">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Дата от ₽">
                                <input type="text" class="form-control border" style='border: opacity 0.5;' placeholder="Дата до ₽">
                            </div>
                        </div>
                    </div>
                    <div class='row mt-3 '>
                        <div class='col-md-10 col'><div class='text-black-50 pt-2 text-right'>Сбросить Х</div></div>
                        <div class='col-md-2 col'><div type='button' class='btn btn-primary'>Показать</div></div>
                    </div>
                </div>
                <div class='row mt-4 mb-1'>
                    <div class='col-5 d-none d-md-block'></div>
                    <div class='col d-none d-md-block'></div>
                    <div class=' col-6 col-md-4 ml-2 mr-2'>
                        <form>
                            <input class='border text-center bg-light rounded-pill' list="sort" id="myHouse" name="myHouse" placeholder="Сортировка" />
                            <datalist id="sort">
                                <option value="Дешевле-Дороже">
                                <option value="Дороже-Дешевле">
                                <option value="По популярности">
                            </datalist>
                        </form>
                    </div>
                    <div class='col d-none d-md-block'></div>
                </div>
            </div>
        <div class='col-2 d-none d-md-block'></div>
    </div>
</div>

    {% comment %}
    <div class='col col-md-5'>
                            <div class='text-black-50 pt-2 text-right'>Сбросить Х</div>
                        </div>
                        <div class='col bg-secondary'>
                            <div type='button' class='btn btn-primary'>Показать</div>
                        </div>
     <div class='row'>
        <div class='col'>
            <div class="btn-group">
                <button type="button" class="btn bg-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Выберите город
                </button>
                <button type="button" class="btn bg-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Вы
                </button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                    <a class="dropdown-item" href="#">Separated link</a>
                </div>
            </div>
        </div>
        <br>
        <br>
    </div> {% endcomment %}
</div>
    {%for comp in company%}
        <div class="row no-gutters mb-3">
            <div class='col-2 d-none d-md-block'></div>
                <div class='col auto'>
                    <div class="card mb-6 shadow p-3 bg-white rounded border-0">
                        <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel" data-interval="False">
                            <ol class="carousel-indicators">
                                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">
                                <div class="carousel-item class_img active">
                                    <div class='img-wrapper'><!--По идее это zoom hover-->
                                        <img src="{{comp.image.url}}" class="d-block class_img w-100" alt="Image" object-fit: cover;>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img src="" class="d-block w-100" alt="Image">
                                </div>
                                <div class="carousel-item">
                                    <img src="" class="d-block w-100" alt="Image">
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{comp.name}}</h5>
                            <p class="card-text">{{comp.body|truncatewords:20}}</p>
                            <div class='row'>
                                <div class='col-4'>
                                    <a href="{% url 'company_detail_url' slug=comp.slug%}" class="btn btn-outline-secondary btn-md" role="button" aria-pressed="true">Посмотреть запись</a>
                                </div>
                                <div class='col-4'></div>
                            {% comment %} <p class="card-text"><small class="text-muted">{{comp.city}}</small></p> {% endcomment %}
                                <div class='col-4'>
                                    <h6 class="card-text"><small class="text-muted">{{comp.city}}</small></h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <div class='col-2 d-none d-md-block'></div>
        </div>
    {%endfor%}

    {% comment %} <script>
            async function create_operation_master(master){
            const poleCash = document.getElementById('cashmaster').value;
            const poleTime = document.getElementById('timemaster').value;
            const poleDescription = document.getElementById('textarea').value;
            const poleSelect = document.getElementById('ControlSelect').value;
            const tableOper =  document.querySelector('.table_operations_master');
            if (poleSelect!='' && poleTime!='' && poleCash!=''){    
                await $.ajax({
                    type:'POST',
                    url:'base_company_description/',
                    cache: false,
                    headers: {'X-CSRFToken': csrftoken},
                    data: {
                        name: poleSelect,
                        cash:poleCash,
                        time: poleTime,
                        description: poleDescription,
                        slug: master,
                    },
                    success: function(data){
                        const line = document.createElement('tr');
                        line.innerHTML =`<td style="padding: 10px;"> ${data['new_oper']}</td>`
                        console.log(line);
                        tableOper.append(line);
                        }
                    });
                }
            }
    </script> {% endcomment %}
{% endblock body %}


{% block footer %}
{% endblock footer %}
